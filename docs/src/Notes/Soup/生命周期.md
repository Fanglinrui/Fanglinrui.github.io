---
tags:
  - Rust
  - 生命周期
---
生命周期，也就是有效**作用域**，可以避免悬垂引用  
- 标注方法：`'`开头，名称往往是单独小写字母，比如`'a`  
- 在*函数签名*中的使用方法和**泛型**一样，例如：  
```
fn longest<'a>(x: &'a str, y: &'a str) -> &'a str {
    if x.len() > y.len() {
        x
    } else {
        y
    }
}

```

可以用在**结构体**中，这样结构体元素就可以使用字符串字面量  
**三条消除规则**：哪些场景可以不用显式标注生命周期  
- 每个引用参数都会获得独自的生命周期，（这里指的是输入）——No.1  
- 接下来，分为两种情况：  
	- 只有一个**输入**生命周期，那么该生命周期会被赋给所有**输出**生命周期 ——No.2   
	- 多个输入生命周期，其中一个是`&self`或`&mut self`，那么它的生命周期被赋给所有的输出生命周期 ——No.3  
	在这些情况之外的，需要手动标注  

一个特殊的生命周期：`'static`，拥有该生命周期的引用可以和整个程序活得一样久